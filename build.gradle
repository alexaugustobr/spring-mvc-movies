//build.gradle
sourceCompatibility = JavaVersion.VERSION_1_6

// ====================== plugins ====================== //
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'eclipse-wtp'
apply plugin: 'war'

// ====================== tasks ======================= //
task "create-dirs" << {
   sourceSets.all*.java.srcDirs*.each { it.mkdirs() }
   sourceSets.all*.resources.srcDirs*.each { it.mkdirs() }
}

// ====================== repositories ================= //
repositories {
    mavenCentral()
    maven {url "http://maven.springframework.org/milestone"} //Spring Repository
}

// ====================== dependencies ================= //
springVersion = "3.1.1.RELEASE"
slf4jVersion = "1.5.10"
log4jVersion = "1.2.15"
servletVersion = "2.5"
jspVersion = "2.1"
dependencies {
	runtime("org.springframework:spring-context:${springVersion}") {
		exclude group: "commons-logging", module: "commons-logging"
	}
	
	runtime "org.springframework:spring-webmvc:${springVersion}"

	//Logging
	runtime "org.slf4j:slf4j-api:${slf4jVersion}"
	runtime "org.slf4j:jcl-over-slf4j:${slf4jVersion}"
	runtime "org.slf4j:slf4j-log4j12:${slf4jVersion}"
		
	runtime("log4j:log4j:${log4jVersion}") {
		exclude group: "javax.mail", module: "mail"
		exclude group: "javax.jms", module: "jms"
		exclude group: "com.sun.jdmk", module: "jmxtools"
		exclude group: "com.sun.jmx", module: "jmxri"
	}
	
	//Servlet Api
	runtime "javax.servlet:servlet-api:${servletVersion}"
	runtime "javax.servlet:jstl:1.2"
	runtime "javax.servlet.jsp:jsp-api:${jspVersion}"

	//Sitemesh
	runtime "opensymphony:sitemesh:2.4.2"
	
	//JSR 303 with Hibernate Validator
	runtime "javax.validation:validation-api:1.0.0.GA"
	runtime "org.hibernate:hibernate-validator:4.0.2.GA"

	//Mongodb
	runtime "org.springframework.data:spring-data-mongodb:1.0.1.RELEASE"
	runtime "org.mongodb:mongo-java-driver:2.7.3"

	//Testing
	testRuntime "junit:junit:4.10"
	testRuntime "org.mockito:mockito-all:1.9.0"
	testRuntime "org.springframework:spring-test:${springVersion}"
}
